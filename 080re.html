<!DOCTYPE html>
<html>

<head>
    <title>Document</title>
</head>

<body>
    <!-- 출발역 섹렉트 박스를 만들어라 -->
    <!-- 아이디는 start -->

    <!-- 도착역 셀렉트 박스를 만들어라 -->
    <!-- id는 end -->

    <!-- 라벨로 감싸여진 라디오 박스를 만들어라. name은 통일시키켜야 라디오 박스가 하나만 선택한다. -->
    <!-- 첫번째 것은 벨류값을 어덜트로 넣고 우선 체크되어있게 만들어라. 성인일반 -->
    <!-- 두번째 것은 벨류값을 영으로 만들고,  청소년 -->
    <!-- 세번째 것은 벨류값을 차일드로 만들고,  어린이 -->

    <!-- 버튼을 만들고, 버튼을 클릭했을 때 함수 하나(요금계산)를 실행시켜라. 요금계산 -->
    <!-- 설명이 들어갈 공간을 하나 만들어라. 글들이 많이 나와도 해당 공간 안에서 보여 질 수 있도록, 내용이 많이 생기면 스크롤이 생겨
아래로 계속 글들이 작성되게 한다. 해당 글을 작성 하려 할 때 찾아오기 쉽도록 아이디도 설정해 둔다 -->

    <script>
        const subwayList = ["영등포구구청역", "당산역", "합정역", "홍대입구역", "신촌역", "이대역", "아현역", "충정로역", "시청역", "을지로3가역", "을지로4가역",
            "동대문역사문화공원역", "신당역", "상왕십리역", "왕십리역", "한양대역", "뚝섬역", "성수역", "건대입구역", "구의역", "강변역", "잠실나루역", "잠실역",
            "종합운동장역",
            "삼성역", "선릉역", "역삼역", "강남역", "서초역", "방배역", "사당역", "낙성대역", "서울대입구역", "봉천역", "신림역", "신대방역", "구로디지털단지역",
            "대림역",
            "신도림역", "문래역"
        ];

        const intervalDistance = 3170;
        //성인일반 - 기본운임 : 10km 이내 - 1250원
        //청소년 - 기본운임 : 10km 이내 - 720원
        //어린이 - 기본운임 : 10km 이내 - 450원

        //[추가운임]
        //10~50km 이내 - 5km 마다 100원 추가
        //50km 초가 - 8km 마다 100원 추가




        // 계산을 위한 함수
        // 선택한 출발역이 무엇인 확인한다. 출발역 셀렉트 박스에 접근해서 어떤 데이터가 선택되었는지 확인한다.
        // 그 때 데이터의 값을 불러오면 배열의 이름이 아니라 순서에 해당하는 데이터가 벨류값으로 저장되어 바로 쓸 수 있도록 한다.
        // 순서에 대한 값은 숫자로 보이나 문자열 데이터이기 때문에 숫자형 데이타로 바꿔준 후 변수로 설정해둔다.
        // 마찬가지로 도착역에 대한 배열의 순서를 구한후 변수로 저장한다.
        // 라디오 버튼으로 설정해둔 것들 중 체크 된 것의 값을 찾아 변수로 저장해둔다.
        // 아까 설정해둔 설명문이 들어갈 공간에 접속 할 수 있는 방법을 변수로 설정해둔다.

        //중간 확인을 위해 출발역에 관한 정보를 콘솔로 확인해 본다.
        //중간 확인을 위해 도착역에 관한 정보를 콘솔로 확인해 본다        
        //중간 확인을 위해 라디오 버튼 중 체크된 것의 벨류값을 제대로 가져오는지 확인한다.

        //만약 출발역과 도착역이 같다면
        //'출발역과 도착역은 같을 수 없습니다'라는 내용을, 설명이 들어갈 공간안에 아래로 계속내용이 추가 될 수 있는 글을 작성해 넣어준다 

        //역이 몇정거장 차이인지 저장해둘 변수를 설정

        //만약 도착역이 출발역보다 크다면
        //역이 몇정거장 차이인지는 도착역에서 출발역 값을 빼주면 된다.

        //그게 아니라면
        //역이 몇정거장 차이인지는 지하철 전체 수에서 출발역을 빼준 뒤 도착역을 더해준 값이다.

        //이동거리는 역이 몇정거장 차이인지 에 대한 값에 역거리 기본값을 곱해준다.
        //이동거리를 확인해본다

        //함수를 변수로 지정해준다. 거리와 어떤 유형의 나이인지 확인할 수 있는 변수를 파라미터로 삼는 함수를 만든다. 지하철 요금을 계산할 것이다.
        //함수를 확인해 본다


        var stationCount = 0;
        if (end > start) {
            stationCount = end - start;
        } else {
            stationCount = subwayList.length - start + end;
        }

        const distance = stationCount * intervalDistance;

        console.log("총 이동거리", distance);

        const cost = calculateSubwayCost(distance, ageGroup);
        console.log("지하철요금", cost);

        }

        function calculateSubwayCost(distance, ageGroup) {
            const baseAmount = (ageGroup == "ADULT") ? 1250 : (ageGroup == "YOUNG") ? 720 : 450;

            if (distance <= 10000) {
                return baseAmount;
            } else if (distance <= 50000) {
                return baseAmount + (Math.ceil((distance - 10000) / 5000) * 100);
            } else {
                return baseAmount + ((40000 / 5000) * 100) + (Math.ceil((distance - 50000) / 8000) * 100);
            }
        }

        function loadSubway() {
            var h = [];
            for (var idx in subwayList) {
                h.push(`<option value="${idx}">${subwayList[idx]}</option>`);
            }

            document.getElementById("start").innerHTML = h.join("");
            document.getElementById("end").innerHTML = h.join("");
        }

        loadSubway();
    </script>
</body>

</html>